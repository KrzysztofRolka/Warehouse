<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:b="http://bootsfaces.net/ui">

<h:head>
	<title>Edytuj profil</title>
</h:head>

<h:body style="padding-top: 50px; padding-bottom: 20px;">

	<ui:include src="/pages/shared/navbar.xhtml" />
	
	<br />
	<br />
	<br />

	<b:container>
		<b:jumbotron>
			<h2>Zmień hasło:</h2>
			<br />
			<b:form>
			
				<b:messages/>
				<b:inputText label="Podaj nowe haslo" value="#{changePasswordController.password}" type="password" placeholder="Podaj nowe haslo" required="true" required-message="Pole haslo jest wymagane!"></b:inputText>
			 	<b:inputText label="Potwierdz haslo" value="#{changePasswordController.confirmPassword}" type="password" placeholder="Potwierdz haslo" required="true" required-message="Pole potwierdz haslo jest wymagane!"></b:inputText>
			 	
			 	<b:commandButton class="btn btn-lg btn-info" value="Zmien haslo"
						id="button" action="#{changePasswordController.changePasswordForCurrentUser()}"></b:commandButton>
			 	
			</b:form>
		</b:jumbotron>
	</b:container>
	
		<b:container>
		<b:jumbotron>
			<h2>Zmień dane:</h2>
			<br />
			<b:form>
			
				<b:messages/>
				<b:inputText label="Login" value="#{editUserController.currentUser.loginName}" required="true" required-message="Pole Login jest wymagane!"></b:inputText>
			 	<b:inputText label="Imie" valuecreate="#{editUserController.currentUser.firstName}" required="true" required-message="Pole Imie jest wymagane!"></b:inputText>
			 	<b:inputText label="Nazwisko" value="#{editUserController.currentUser.lastName}" required="true" required-message="Pole Nazwisko jest wymagane!"></b:inputText>
			 	<b:inputText label="Email" value="#{editUserController.currentUser.email}" type="email" required="true" required-message="Pole Email jest wymagane!"></b:inputText>
			 	
			 	<b:commandButton class="btn btn-lg btn-info" value="Zmien dane"
						id="button" action="#{editUserController.updateUser()}"></b:commandButton>
			 	
			</b:form>
		</b:jumbotron>
	</b:container>

	<ui:fragment rendered="#{authorizationChecker.hasNotApplicationRole('superadmin')}">
	<b:container>
		<b:jumbotron>
			<h2>Usuń konto:</h2>
			<br />
			<b:form>
			
			 	<b:commandButton class="btn btn-lg btn-danger" value="Usuń konto"
						id="button" action="#{editUserController.deleteUser()}"></b:commandButton>
			 	
			</b:form>
		</b:jumbotron>
	</b:container>
	</ui:fragment>
	
</h:body>
</html>
